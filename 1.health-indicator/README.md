# ะะฝะดะธะบะฐัะพั ะทะดะพัะพะฒัั ๐ฉบ
ะะพะผะฐัะฝะตะต ะทะฐะดะฐะฝะธะต ะบ ะปะตะบัะธะธ ยซUnit-ัะตััะธัะพะฒะฐะฝะธะตยป

[![ะกัะฐััั ัะฑะพัะบะธ](https://ci.appveyor.com/api/projects/status/e6605ggww608a62w?svg=true)](https://ci.appveyor.com/project/dm-morozov/netology-42-testing-and-continuous-integration/)

ะญัะพั ะฟัะพะตะบั ัะฒะปัะตััั ัะตัะตะฝะธะตะผ ะฟะตัะฒะพะน ะทะฐะดะฐัะธ **"ะงะธัััะต ััะฝะบัะธะธ"** ะธะท ะดะพะผะฐัะฝะตะณะพ ะทะฐะดะฐะฝะธั Netology ะฟะพ ัะฝะธั-ัะตััะธัะพะฒะฐะฝะธั. ะะฝ ัะตะฐะปะธะทัะตั ัะธัััั ััะฝะบัะธั ะดะปั ะพะฟัะตะดะตะปะตะฝะธั ััะฐัััะฐ ะทะดะพัะพะฒัั ะธะณัะพะฒัั ะฟะตััะพะฝะฐะถะตะน ะฝะฐ ะพัะฝะพะฒะต ะธั ะพัะบะพะฒ ะทะดะพัะพะฒัั.

## ๐ ะะฟะธัะฐะฝะธะต

ะัะพะตะบั `1.health-indicator` ัะพะดะตัะถะธั ัะธัััั ััะฝะบัะธั `getHealthStatus`, ะบะพัะพัะฐั ะพัะตะฝะธะฒะฐะตั ะทะดะพัะพะฒัะต ะฟะตััะพะฝะฐะถะฐ ะธ ะฒะพะทะฒัะฐัะฐะตั ะพะดะธะฝ ะธะท ัััั ััะฐัััะพะฒ:

- **healthy** (ะทะดะพัะพะฒ, ะทะดะพัะพะฒัะต &gt; 50)
- **wounded** (ัะฐะฝะตะฝ, 15 โค ะทะดะพัะพะฒัะต โค 50)
- **critical** (ะบัะธัะธัะตัะบะพะต, ะทะดะพัะพะฒัะต &lt; 15)

ะัะพะตะบั ะฒะบะปััะฐะตั:

- ะฎะฝะธั-ัะตััั ั 100% ะฟะพะบัััะธะตะผ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ **Jest**.
- ะะธะฝัะธะฝะณ ั **ESLint** ะธ **Prettier** ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ะบะฐัะตััะฒะฐ ะบะพะดะฐ.
- ะะตะฟัะตััะฒะฝัั ะธะฝัะตะณัะฐัะธั ั **AppVeyor** ะดะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ัะตััะธัะพะฒะฐะฝะธั.
- **Husky** ะดะปั ะทะฐะฟััะบะฐ ะปะธะฝัะธะฝะณะฐ ะธ ัะตััะพะฒ ะฟะตัะตะด ะบะพะผะผะธัะฐะผะธ.
- ะะฐัััะพะนะบั **Babel** ะดะปั ะฟะพะดะดะตัะถะบะธ ัะพะฒัะตะผะตะฝะฝัั ะฒะพะทะผะพะถะฝะพััะตะน JavaScript ะธ ะพะฑะตัะฟะตัะตะฝะธั ัะพะฒะผะตััะธะผะพััะธ.
- ะะฐัััะพะนะบั **Webpack** ะดะปั ัะฑะพัะบะธ ะฟัะพะตะบัะฐ, ะฒะบะปััะฐั ะฟะพะดะดะตัะถะบั ัะฐะทัะฐะฑะพัะบะธ ะธ ะฟัะพะดะฐะบัะตะฝะฐ.
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต `"type": "module"` ะฒ `package.json` ะดะปั ัะฐะฑะพัั ั ES-ะผะพะดัะปัะผะธ, ะบะฐะบ ััะตะฑัะตััั ะฒ ะทะฐะดะฐะฝะธะธ.

ะะฐัััะพะนะบะฐ **Babel** ะธ **Webpack** ะทะฐะฝัะปะฐ ะทะฝะฐัะธัะตะปัะฝะพะต ะฒัะตะผั, ััะพะฑั ะพะฑะตัะฟะตัะธัั ะบะพััะตะบัะฝัั ัะฐะฑะพัั ะผะพะดัะปะตะน, ะผะธะฝะธัะธะบะฐัะธั ะธ ัะพะฒะผะตััะธะผะพััั ั ัะฐะทะปะธัะฝัะผะธ ะพะบััะถะตะฝะธัะผะธ.

## ๐๏ธ ะฃััะฐะฝะพะฒะบะฐ

### ะขัะตะฑะพะฒะฐะฝะธั

- **Node.js** (ะฒะตััะธั 18.x ะธะปะธ ะฒััะต)
- **npm** (ะฒะตััะธั 8.x ะธะปะธ ะฒััะต)

### ะฃััะฐะฝะพะฒะบะฐ

1. ะกะบะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:

   ```bash
   git clone https://github.com/dm-morozov/Netology_42_testing-and-continuous-integration.git
   ```
2. ะะตัะตะนะดะธัะต ะฒ ะฟะฐะฟะบั ะฟัะพะตะบัะฐ:

   ```bash
   cd Netology_42_testing-and-continuous-integration/1.health-indicator
   ```
3. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:

   ```bash
   npm install
   ```

### ะกะบัะธะฟัั

- ะะฐะฟััะบ ัะตััะพะฒ ั ะฟะพะบัััะธะตะผ:

  ```bash
  npm test
  ```
- ะะฐะฟััะบ ะปะธะฝัะธะฝะณะฐ:

  ```bash
  npm run lint
  ```
- ะัะฟัะฐะฒะปะตะฝะธะต ะฟัะพะฑะปะตะผ ะปะธะฝัะธะฝะณะฐ:

  ```bash
  npm run lint:fix
  ```
- ะะฐะฟััะบ ัะตัะฒะตัะฐ ะดะปั ัะฐะทัะฐะฑะพัะบะธ:

  ```bash
  npm run dev
  ```
- ะกะฑะพัะบะฐ ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ:

  ```bash
  npm run build
  ```

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

ะัะพะตะบั ะธัะฟะพะปัะทัะตั **Jest** ะดะปั ัะฝะธั-ัะตััะธัะพะฒะฐะฝะธั. ะขะตััั ะฝะฐัะพะดัััั ะฒ `src/js/__tests__/health.test.js` ะธ ะฟะพะบััะฒะฐัั ะฒัะต ัะปััะฐะธ:

- ะะดะพัะพะฒัะต &gt; 50 โ `healthy`
- 15 โค ะะดะพัะพะฒัะต โค 50 โ `wounded`
- ะะดะพัะพะฒัะต &lt; 15 โ `critical`
- ะะตะบะพััะตะบัะฝัะน ะฒะฒะพะด โ ะฒัะฑัะฐััะฒะฐะตั ะพัะธะฑะบั

ะะฐะฟัััะธัะต ัะตััั:

```bash
npm test
```

ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:

```
PASS  src/js/__tests__/health.test.js
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 90) ะดะพะปะถะตะฝ ะฒะตัะฝััั healthy
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 51) ะดะพะปะถะตะฝ ะฒะตัะฝััั healthy
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 50) ะดะพะปะถะตะฝ ะฒะตัะฝััั wounded
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 49) ะดะพะปะถะตะฝ ะฒะตัะฝััั wounded
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 15) ะดะพะปะถะตะฝ ะฒะตัะฝััั wounded
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 14) ะดะพะปะถะตะฝ ะฒะตัะฝััั critical
โ getHealthStatus ะดะปั ะะฐะณ (ะทะดะพัะพะฒัะต 0) ะดะพะปะถะตะฝ ะฒะตัะฝััั critical
โ ะฒัะฑัะฐััะฒะฐะตั ะพัะธะฑะบั ะดะปั ะฝะตะบะพััะตะบัะฝะพะณะพ ะฟะตััะพะฝะฐะถะฐ
```

ะะพะบัััะธะต: **100%** (ะพะฟะตัะฐัะพัั, ะฒะตัะบะธ, ััะฝะบัะธะธ, ัััะพะบะธ).

## ๐ ะะธะฝัะธะฝะณ

ะัะพะตะบั ะธัะฟะพะปัะทัะตั **ESLint** ั **Prettier** ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ะตะดะธะฝะพะพะฑัะฐะทะธั ััะธะปั ะบะพะดะฐ. ะะฐะฟัััะธัะต:

```bash
npm run lint
```

ะะปั ะฐะฒัะพะผะฐัะธัะตัะบะพะณะพ ะธัะฟัะฐะฒะปะตะฝะธั ะฟัะพะฑะปะตะผ:

```bash
npm run lint:fix
```

## ๐ ะะตะฟัะตััะฒะฝะฐั ะธะฝัะตะณัะฐัะธั

ะัะพะตะบั ะธะฝัะตะณัะธัะพะฒะฐะฝ ั **AppVeyor** ะดะปั ะฝะตะฟัะตััะฒะฝะพะน ะธะฝัะตะณัะฐัะธะธ. ะะฐะถะดัะน ะฟัั ะทะฐะฟััะบะฐะตั:

- ะฃััะฐะฝะพะฒะบั Node.js ะธ ะทะฐะฒะธัะธะผะพััะตะน.
- ะะธะฝัะธะฝะณ (`npm run lint`).
- ะขะตััะธัะพะฒะฐะฝะธะต (`npm test`).

ะัะพะฒะตัััะต ััะฐััั ัะฑะพัะบะธ:

## ๐ถ Husky

**Husky** ะฝะฐัััะพะตะฝ ะดะปั ะทะฐะฟััะบะฐ ะปะธะฝัะธะฝะณะฐ ะธ ัะตััะพะฒ ะฟะตัะตะด ะบะฐะถะดัะผ ะบะพะผะผะธัะพะผ. ะฅัะบ `pre-commit` ะฒัะฟะพะปะฝัะตั:

```bash
npm run lint && npm test
```

ะะปั ะฝะฐัััะพะนะบะธ Husky:

```bash
set HUSKY_GIT_PARAMS=%CD%\..\.git
npx husky init
echo "npm run lint && npm test" > .husky/pre-commit
```

## ๐๏ธ ะะฐัััะพะนะบะฐ Babel ะธ Webpack

- **Babel**: ะัะฟะพะปัะทัะตััั ะดะปั ััะฐะฝััะพัะผะฐัะธะธ ัะพะฒัะตะผะตะฝะฝะพะณะพ JavaScript-ะบะพะดะฐ (ES6+) ะฒ ัะพะฒะผะตััะธะผัะน ั ะฑะพะปััะธะฝััะฒะพะผ ะพะบััะถะตะฝะธะน. ะะพะฝัะธะณััะฐัะธั ะฝะฐัะพะดะธััั ะฒ `babel.config.json` ะธ ะฒะบะปััะฐะตั ะฟัะตัะตั `@babel/preset-env` ะดะปั ะฟะพะดะดะตัะถะบะธ ES-ะผะพะดัะปะตะน ะธ ะฟะพะปะธัะธะปะปะพะฒ ัะตัะตะท `core-js`.
- **Webpack**: ะะฐัััะพะตะฝ ะดะปั ัะฑะพัะบะธ ะฟัะพะตะบัะฐ, ะฒะบะปััะฐั:
  - **ะะตะถะธะผ ัะฐะทัะฐะฑะพัะบะธ** (`npm run dev`) ั ะณะพัััะธะผ ะฟะตัะตะทะฐะฟััะบะพะผ ัะตัะตะท `webpack-dev-server`.
  - **ะะตะถะธะผ ะฟัะพะดะฐะบัะตะฝะฐ** (`npm run build`) ั ะผะธะฝะธัะธะบะฐัะธะตะน ะธ ะพะฟัะธะผะธะทะฐัะธะตะน.
  - ะะพะดะดะตัะถะบั CSS ัะตัะตะท `css-loader` ะธ `mini-css-extract-plugin`.
  - ะะตะฝะตัะฐัะธั HTML ัะตัะตะท `html-webpack-plugin`.

ะัะพะตะบั ะธัะฟะพะปัะทัะตั `"type": "module"` ะฒ `package.json`, ััะพ ะพะฑะตัะฟะตัะธะฒะฐะตั ะฟะพะดะดะตัะถะบั ES-ะผะพะดัะปะตะน, ะบะฐะบ ัะบะฐะทะฐะฝะพ ะฒ ััะตะฑะพะฒะฐะฝะธัั ะทะฐะดะฐะฝะธั.

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
1.health-indicator/
โโโ src/
โ   โโโ js/
โ   โ   โโโ health.js          # ะงะธััะฐั ััะฝะบัะธั getHealthStatus
โ   โ   โโโ __tests__/
โ   โ   โ   โโโ health.test.js # ะฎะฝะธั-ัะตััั
โ   โโโ css/
โ   โโโ index.html
โโโ .husky/                    # ะฅัะบ pre-commit ะดะปั Husky
โโโ node_modules/
โโโ package.json
โโโ babel.config.json          # ะะพะฝัะธะณััะฐัะธั Babel
โโโ eslint.config.mjs          # ะะพะฝัะธะณััะฐัะธั ESLint
โโโ jest.config.js             # ะะพะฝัะธะณััะฐัะธั Jest
โโโ .prettierrc                # ะะพะฝัะธะณััะฐัะธั Prettier
โโโ webpack.common.mjs         # ะะฑัะฐั ะบะพะฝัะธะณััะฐัะธั Webpack
โโโ webpack.dev.mjs            # ะะพะฝัะธะณััะฐัะธั Webpack ะดะปั ัะฐะทัะฐะฑะพัะบะธ
โโโ webpack.prod.mjs           # ะะพะฝัะธะณััะฐัะธั Webpack ะดะปั ะฟัะพะดะฐะบัะตะฝะฐ
โโโ webpack.config.mjs         # ะขะพัะบะฐ ะฒัะพะดะฐ Webpack
โโโ README.md                  # ะญัะพั ัะฐะนะป
```

## ๐ ะะธัะตะฝะทะธั

ะัะพะตะบั ัะฐัะฟัะพัััะฐะฝัะตััั ะฟะพะด ะปะธัะตะฝะทะธะตะน ISC.

## ๐ ะะฒัะพั

ะกะพะทะดะฐะฝะพ dm-morozov ะดะปั ะดะพะผะฐัะฝะตะณะพ ะทะฐะดะฐะฝะธั Netology ะฟะพ ัะฝะธั-ัะตััะธัะพะฒะฐะฝะธั.